
{{ config(
    cluster_by = "_airbyte_extracted_at",
    partition_by = {"field": "_airbyte_extracted_at", "data_type": "timestamp", "granularity": "day"},
    unique_key = '_airbyte_raw_id'
) }}
-- SQL model to build a hash column based on the values of this record
-- depends_on: {{ source('cta', 'participants') }}

select
   _airbyte_raw_id,
   _airbyte_extracted_at,
   _airbyte_meta,
   _airbyte_generation_id,
   id,
   archived,
   createdAt,
   updatedAt,
   properties,
   properties_cell,
   properties_zip5,
   properties_email,
   properties_campaign,
   properties_last_name,
   properties_res_state,
   properties_first_name,
   properties_hs_pipeline,
   properties_reported_by,
   properties_hs_object_id,
   properties_hs_read_only,
   properties_day_in_bucket,
   properties_hs_createdate,
   properties_rally_user_id,
   properties_event_datetime,
   properties_hs_all_team_ids,
   properties_hs_was_imported,
   properties_hubspot_team_id,
   properties_application_date,
   properties_hs_all_owner_ids,
   properties_hs_object_source,
   properties_hubspot_owner_id,
   properties_event_time_string,
   properties_hs_pipeline_stage,
   properties_chase_bucket_label,
   properties_hs_shared_team_ids,
   properties_hs_shared_user_ids,
   properties_onboarding_session,
   properties_hs_lastmodifieddate,
   properties_hs_object_source_id,
   properties_hs_merged_object_ids,
   properties_hs_time_in_209642093,
   properties_hs_time_in_209642094,
   properties_hs_time_in_209738541,
   properties_hs_time_in_209738542,
   properties_hs_time_in_209738543,
   properties_hs_time_in_209842281,
   properties_hs_time_in_209943381,
   properties_hs_time_in_216331145,
   properties_hs_time_in_216391680,
   properties_hs_time_in_216391681,
   properties_hs_time_in_216391682,
   properties_hs_time_in_217755026,
   properties_hs_time_in_217781081,
   properties_hs_time_in_217781082,
   properties_hs_time_in_217786539,
   properties_hs_created_by_user_id,
   properties_hs_updated_by_user_id,
   properties_contract_sharable_link,
   properties_hs_object_source_label,
   properties_hs_unique_creation_key,
   properties_hs_pinned_engagement_id,
   properties_mobilizer_program_state,
   properties_hs_date_exited_209642093,
   properties_hs_date_exited_209642094,
   properties_hs_date_exited_209738541,
   properties_hs_date_exited_209738542,
   properties_hs_date_exited_209738543,
   properties_hs_date_exited_209842281,
   properties_hs_date_exited_209943381,
   properties_hs_date_exited_216331145,
   properties_hs_date_exited_216391680,
   properties_hs_date_exited_216391681,
   properties_hs_date_exited_216391682,
   properties_hs_date_exited_217755026,
   properties_hs_date_exited_217781081,
   properties_hs_date_exited_217781082,
   properties_hs_date_exited_217786539,
   properties_hs_object_source_user_id,
   properties_submission_idempotent_id,
   properties_hs_date_entered_209642093,
   properties_hs_date_entered_209642094,
   properties_hs_date_entered_209738541,
   properties_hs_date_entered_209738542,
   properties_hs_date_entered_209738543,
   properties_hs_date_entered_209842281,
   properties_hs_date_entered_209943381,
   properties_hs_date_entered_216331145,
   properties_hs_date_entered_216391680,
   properties_hs_date_entered_216391681,
   properties_hs_date_entered_216391682,
   properties_hs_date_entered_217755026,
   properties_hs_date_entered_217781081,
   properties_hs_date_entered_217781082,
   properties_hs_date_entered_217786539,
   properties_hs_object_source_detail_1,
   properties_hs_object_source_detail_2,
   properties_hs_object_source_detail_3,
   properties_hs_user_ids_of_all_owners,
   properties_incident_report_reasoning,
   properties_hs_all_accessible_team_ids,
   properties_hubspot_owner_assigneddate,
   properties_incident_report_file_upload,
   properties_user_campaign_membership_id,
   properties_schedule_onboarding_quick_link,
   properties_participant_referrals_quick_link,
   properties_hs_all_assigned_business_unit_ids,
   properties_chased_action_success_criteria_value,
   properties_chased_action_eligible_sub_object_count,
   properties_chased_action_completed_sub_object_count,
   properties_hs_user_ids_of_all_notification_followers,
   properties_incident_report___onboarding_session_time,
   properties_hs_user_ids_of_all_notification_unfollowers,
   {{ dbt_utils.surrogate_key([
     'id',
    'archived',
    'createdAt',
    'updatedAt',
    'properties_cell',
    'properties_zip5',
    'properties_email',
    'properties_campaign',
    'properties_last_name',
    'properties_res_state',
    'properties_first_name',
    'properties_hs_pipeline',
    'properties_reported_by',
    'properties_hs_read_only',
    'properties_hs_createdate',
    'properties_rally_user_id',
    'properties_event_datetime',
    'properties_hs_all_team_ids',
    'properties_hs_was_imported',
    'properties_hubspot_team_id',
    'properties_application_date',
    'properties_hs_all_owner_ids',
    'properties_hs_object_source',
    'properties_hubspot_owner_id',
    'properties_event_time_string',
    'properties_hs_pipeline_stage',
    'properties_chase_bucket_label',
    'properties_hs_shared_team_ids',
    'properties_hs_shared_user_ids',
    'properties_onboarding_session',
    'properties_hs_lastmodifieddate',
    'properties_hs_object_source_id',
    'properties_hs_merged_object_ids',
    'properties_contract_sharable_link',
    'properties_hs_object_source_label',
    'properties_hs_unique_creation_key',
    'properties_mobilizer_program_state',
    'properties_hs_date_exited_209642093',
    'properties_hs_date_exited_209642094',
    'properties_hs_date_exited_209738541',
    'properties_hs_date_exited_209738542',
    'properties_hs_date_exited_209738543',
    'properties_hs_date_exited_209842281',
    'properties_hs_date_exited_209943381',
    'properties_hs_date_exited_216331145',
    'properties_hs_date_exited_216391680',
    'properties_hs_date_exited_216391681',
    'properties_hs_date_exited_216391682',
    'properties_hs_date_exited_217755026',
    'properties_hs_date_exited_217781081',
    'properties_hs_date_exited_217781082',
    'properties_hs_date_exited_217786539',
    'properties_submission_idempotent_id',
    'properties_hs_date_entered_209642093',
    'properties_hs_date_entered_209642094',
    'properties_hs_date_entered_209738541',
    'properties_hs_date_entered_209738542',
    'properties_hs_date_entered_209738543',
    'properties_hs_date_entered_209842281',
    'properties_hs_date_entered_209943381',
    'properties_hs_date_entered_216331145',
    'properties_hs_date_entered_216391680',
    'properties_hs_date_entered_216391681',
    'properties_hs_date_entered_216391682',
    'properties_hs_date_entered_217755026',
    'properties_hs_date_entered_217781081',
    'properties_hs_date_entered_217781082',
    'properties_hs_date_entered_217786539',
    'properties_hs_object_source_detail_1',
    'properties_hs_object_source_detail_2',
    'properties_hs_object_source_detail_3',
    'properties_hs_user_ids_of_all_owners',
    'properties_incident_report_reasoning',
    'properties_hs_all_accessible_team_ids',
    'properties_hubspot_owner_assigneddate',
    'properties_incident_report_file_upload',
    'properties_user_campaign_membership_id',
    'properties_schedule_onboarding_quick_link',
    'properties_participant_referrals_quick_link',
    'properties_hs_all_assigned_business_unit_ids',
    'properties_hs_user_ids_of_all_notification_followers',
    'properties_incident_report___onboarding_session_time',
    'properties_hs_user_ids_of_all_notification_unfollowers'
    ]) }} as _airbyte_participants_hashid
from {{ source('cta', 'participants') }}